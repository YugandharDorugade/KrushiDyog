<% layout("/layouts/boilerplate") %>

<style>
    /* Custom styles for the past orders table */
    .past-orders-title {
        font-weight: bold;
        margin-bottom: 20px;
    }

    .past-orders-table-container {
        max-height: 400px; /* Set a maximum height for the container */
        overflow-y: auto; /* Enable vertical scrolling */
        overflow-x: auto; /* Enable horizontal scrolling */
        border: 1px solid #dee2e6; /* Add a border around the table */
        border-radius: 0.25rem; /* Rounded corners */
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Shadow for better appearance */
    }

    .past-orders-table {
        min-width: 600px; /* Ensure the table has a minimum width */
        margin-bottom: 0; /* Remove bottom margin */
        border-collapse: collapse; /* Collapse borders */
    }

    .past-orders-table th, .past-orders-table td {
        padding: 15px; /* Add padding for better spacing */
        text-align: center; /* Center align text */
        border: 1px solid #dee2e6; /* Add borders to cells */
    }

    .past-orders-table thead {
        background-color: #f8f9fa; /* Light background for the header */
        position: sticky; /* Make the header sticky */
        top: 0; /* Position sticky at the top */
        z-index: 10; /* Ensure it stays above other content */
    }

    .past-orders-table tbody tr:nth-child(odd) {
        background-color: #f2f2f2; /* Zebra striping for better readability */
    }

    .past-orders-table tbody tr:hover {
        background-color: #e9ecef; /* Highlight row on hover */
    }
</style>

<h2 class="past-orders-title text-center mt-4 mb-4">Past Orders</h2>
<div class="past-orders-table-container">
    <table class="past-orders-table">
        <thead>
            <tr>
                <th>Order Date</th>
                <th>Delivery Date</th>
                <th>Product Name</th>
                <th>Quantity</th>
                <th>Price</th>
                <th>Total Price</th>
            </tr>
        </thead>
        <tbody>
            <% pastOrders.forEach(order => { %>
                <tr>
                    <td><%= order.orderDate.toDateString() %></td>

                    <% order.products.forEach(product => { %>
                        <td><%= product.listingName %></td>
                        <td><%= product.quantity %></td>
                        <td><%= product.price %></td>
                        <td><%= product.totalPrice %></td>
                    <% }); %>
                </tr>
            <% }); %>
        </tbody>
    </table>
</div>
<br><br><br>
